(function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t(require("vue")):"function"===typeof define&&define.amd?define([],t):"object"===typeof exports?exports["vue-family-tree"]=t(require("vue")):e["vue-family-tree"]=t(e["Vue"])})("undefined"!==typeof self?self:this,(function(e){return function(){var t={285:function(e,t,r){"use strict";r.r(t);var a=r(601),n=r.n(a),o=r(314),i=r.n(o),d=i()(n());d.push([e.id,'.vue-family-tree__branch[data-v-7ea6d777]{position:relative}.vue-family-tree__branch .vue-family-tree__branch[data-v-7ea6d777],.vue-family-tree__branch .vue-family-tree__branch .vue-family-tree__col[data-v-7ea6d777]{padding-top:16px}.vue-family-tree__branch .vue-family-tree__branch .vue-family-tree__col[data-v-7ea6d777]:before{content:"";position:absolute;top:0;width:100%;height:16px;right:0;border-top:1px solid #ddd}.vue-family-tree__branch .vue-family-tree__branch .vue-family-tree__col[data-v-7ea6d777]:after{content:"";position:absolute;top:0;left:50%;height:16px;width:1px;background-color:#ddd}.vue-family-tree__branch .vue-family-tree__branch .vue-family-tree__col[data-v-7ea6d777]:first-child:before{width:82px;border-left:1px solid #ddd}.vue-family-tree__branch .vue-family-tree__branch .vue-family-tree__col[data-v-7ea6d777]:first-child:after{display:none}.vue-family-tree__branch .vue-family-tree__branch .vue-family-tree__col[data-v-7ea6d777]:last-child:before{width:82px;border-right:1px solid #ddd;left:0;right:auto}.vue-family-tree__branch .vue-family-tree__branch .vue-family-tree__col[data-v-7ea6d777]:last-child:after{display:none}.vue-family-tree__branch .vue-family-tree__branch .vue-family-tree__col[data-v-7ea6d777]:first-child:last-child{padding-top:0}.vue-family-tree__branch .vue-family-tree__branch .vue-family-tree__col[data-v-7ea6d777]:first-child:last-child:after,.vue-family-tree__branch .vue-family-tree__branch .vue-family-tree__col[data-v-7ea6d777]:first-child:last-child:before{display:none}.vue-family-tree__branch .vue-family-tree__branch .vue-family-tree__col_couple[data-v-7ea6d777]:after{left:calc(50% - 68px)}.vue-family-tree__branch .vue-family-tree__branch .vue-family-tree__col_couple[data-v-7ea6d777]:first-child:before{width:calc(50% + 68px)}.vue-family-tree__branch .vue-family-tree__branch .vue-family-tree__col_couple[data-v-7ea6d777]:last-child:before{width:calc(50% - 68px)}.vue-family-tree__branch .vue-family-tree__branch .vue-family-tree__col_couple[data-v-7ea6d777]:first-child:last-child{padding-left:146px}.vue-family-tree__row[data-v-7ea6d777]{display:flex;justify-content:center}.vue-family-tree__col[data-v-7ea6d777]{position:relative}.vue-family-tree__col+.vue-family-tree__col[data-v-7ea6d777]{padding-left:16px}.vue-family-tree__content[data-v-7ea6d777]{display:flex;justify-content:center}.vue-family-tree__couple[data-v-7ea6d777]{position:relative;display:inline-flex}.vue-family-tree__couple[data-v-7ea6d777]:before{content:"";position:absolute;top:50px;left:50%;margin-left:-16px;height:1px;width:32px;background-color:#ddd}.vue-family-tree__couple .vue-family-tree__person[data-v-7ea6d777]:first-child{padding-right:16px}.vue-family-tree__couple .vue-family-tree__person[data-v-7ea6d777]:last-child{padding-left:16px}.vue-family-tree__couple_children .vue-family-tree__person[data-v-7ea6d777]:last-child:before{content:"";position:absolute;top:50px;left:0;width:1px;height:calc(100% - 34px);background-color:#ddd}.vue-family-tree__couple_children .vue-family-tree__person[data-v-7ea6d777]:last-child:after{content:"";position:absolute;top:48px;left:-3px;width:6px;height:6px;border-radius:50%;background-color:#ddd}.vue-family-tree__person[data-v-7ea6d777]{position:relative;z-index:10}',""]),t["default"]=d},170:function(e,t,r){"use strict";r.r(t);var a=r(601),n=r.n(a),o=r(314),i=r.n(o),d=i()(n());d.push([e.id,".vue-family-card[data-v-3ef19fa8]{text-align:center;width:100px}.vue-family-card__image[data-v-3ef19fa8]{display:block;width:100px;height:100px;margin-bottom:16px;background-position:50%;background-size:cover;background-color:#dedede}.vue-family-card__name[data-v-3ef19fa8]{font-weight:600}.vue-family-card__name a[data-v-3ef19fa8]{color:#000;text-decoration:none}",""]),t["default"]=d},314:function(e){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r="",a="undefined"!==typeof t[5];return t[4]&&(r+="@supports (".concat(t[4],") {")),t[2]&&(r+="@media ".concat(t[2]," {")),a&&(r+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),r+=e(t),a&&(r+="}"),t[2]&&(r+="}"),t[4]&&(r+="}"),r})).join("")},t.i=function(e,r,a,n,o){"string"===typeof e&&(e=[[null,e,void 0]]);var i={};if(a)for(var d=0;d<this.length;d++){var l=this[d][0];null!=l&&(i[l]=!0)}for(var c=0;c<e.length;c++){var s=[].concat(e[c]);a&&i[s[0]]||("undefined"!==typeof o&&("undefined"===typeof s[5]||(s[1]="@layer".concat(s[5].length>0?" ".concat(s[5]):""," {").concat(s[1],"}")),s[5]=o),r&&(s[2]?(s[1]="@media ".concat(s[2]," {").concat(s[1],"}"),s[2]=r):s[2]=r),n&&(s[4]?(s[1]="@supports (".concat(s[4],") {").concat(s[1],"}"),s[4]=n):s[4]="".concat(n)),t.push(s))}},t}},601:function(e){"use strict";e.exports=function(e){return e[1]}},262:function(e,t){"use strict";t.A=(e,t)=>{const r=e.__vccOpts||e;for(const[a,n]of t)r[a]=n;return r}},20:function(e,t,r){var a=r(285);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);var n=r(548).A;n("c698bdb8",a,!0,{sourceMap:!1,shadowMode:!1})},63:function(e,t,r){var a=r(170);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);var n=r(548).A;n("60fcc7b5",a,!0,{sourceMap:!1,shadowMode:!1})},548:function(e,t,r){"use strict";function a(e,t){for(var r=[],a={},n=0;n<t.length;n++){var o=t[n],i=o[0],d=o[1],l=o[2],c=o[3],s={id:e+":"+n,css:d,media:l,sourceMap:c};a[i]?a[i].parts.push(s):r.push(a[i]={id:i,parts:[s]})}return r}r.d(t,{A:function(){return v}});var n="undefined"!==typeof document;if("undefined"!==typeof DEBUG&&DEBUG&&!n)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var o={},i=n&&(document.head||document.getElementsByTagName("head")[0]),d=null,l=0,c=!1,s=function(){},u=null,f="data-vue-ssr-id",p="undefined"!==typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function v(e,t,r,n){c=r,u=n||{};var i=a(e,t);return h(i),function(t){for(var r=[],n=0;n<i.length;n++){var d=i[n],l=o[d.id];l.refs--,r.push(l)}t?(i=a(e,t),h(i)):i=[];for(n=0;n<r.length;n++){l=r[n];if(0===l.refs){for(var c=0;c<l.parts.length;c++)l.parts[c]();delete o[l.id]}}}}function h(e){for(var t=0;t<e.length;t++){var r=e[t],a=o[r.id];if(a){a.refs++;for(var n=0;n<a.parts.length;n++)a.parts[n](r.parts[n]);for(;n<r.parts.length;n++)a.parts.push(g(r.parts[n]));a.parts.length>r.parts.length&&(a.parts.length=r.parts.length)}else{var i=[];for(n=0;n<r.parts.length;n++)i.push(g(r.parts[n]));o[r.id]={id:r.id,refs:1,parts:i}}}}function m(){var e=document.createElement("style");return e.type="text/css",i.appendChild(e),e}function g(e){var t,r,a=document.querySelector("style["+f+'~="'+e.id+'"]');if(a){if(c)return s;a.parentNode.removeChild(a)}if(p){var n=l++;a=d||(d=m()),t=y.bind(null,a,n,!1),r=y.bind(null,a,n,!0)}else a=m(),t=b.bind(null,a),r=function(){a.parentNode.removeChild(a)};return t(e),function(a){if(a){if(a.css===e.css&&a.media===e.media&&a.sourceMap===e.sourceMap)return;t(e=a)}else r()}}var _=function(){var e=[];return function(t,r){return e[t]=r,e.filter(Boolean).join("\n")}}();function y(e,t,r,a){var n=r?"":a.css;if(e.styleSheet)e.styleSheet.cssText=_(t,n);else{var o=document.createTextNode(n),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(o,i[t]):e.appendChild(o)}}function b(e,t){var r=t.css,a=t.media,n=t.sourceMap;if(a&&e.setAttribute("media",a),u.ssrId&&e.setAttribute(f,t.id),n&&(r+="\n/*# sourceURL="+n.sources[0]+" */",r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */"),e.styleSheet)e.styleSheet.cssText=r;else{while(e.firstChild)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}},274:function(t){"use strict";t.exports=e}},r={};function a(e){var n=r[e];if(void 0!==n)return n.exports;var o=r[e]={id:e,exports:{}};return t[e](o,o.exports,a),o.exports}!function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.p=""}();var n={};return function(){"use strict";if(a.r(n),a.d(n,{default:function(){return M}}),"undefined"!==typeof window){var e=window.document.currentScript,t=e&&e.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);t&&(a.p=t[1])}var r=a(274);function o(e,t,a,n,o,i){const d=(0,r.resolveComponent)("VueFamilyTreeBranch");return(0,r.openBlock)(),(0,r.createElementBlock)("div",{ref:"wrapper",class:"vue-family-tree",onMousedown:t[0]||(t[0]=(...e)=>i.dragstart&&i.dragstart(...e)),onMousemove:t[1]||(t[1]=(...e)=>i.drag&&i.drag(...e)),onMouseup:t[2]||(t[2]=(...e)=>i.dragend&&i.dragend(...e)),onMouseleave:t[3]||(t[3]=(...e)=>i.dragend&&i.dragend(...e)),onTouchstart:t[4]||(t[4]=(...e)=>i.dragstart&&i.dragstart(...e)),onTouchmove:t[5]||(t[5]=(...e)=>i.drag&&i.drag(...e)),onTouchend:t[6]||(t[6]=(...e)=>i.dragend&&i.dragend(...e)),onTouchcancel:t[7]||(t[7]=(...e)=>i.dragend&&i.dragend(...e)),onTouchleave:t[8]||(t[8]=(...e)=>i.dragend&&i.dragend(...e)),style:(0,r.normalizeStyle)({overflow:a.enableDrag?"hidden":null,cursor:o.dragAndDrop.mouseCursor,...a.wrapperStyles})},[(0,r.createElementVNode)("div",{ref:"vueFamilyTree",style:(0,r.normalizeStyle)({position:a.enableDrag?"absolute":null,top:`${o.position.y}px`,left:`${o.position.x}px`})},[(0,r.createVNode)(d,{tree:a.tree,onCardClick:i.cardClick},{card:(0,r.withCtx)((({item:t})=>[(0,r.renderSlot)(e.$slots,"card",{item:t})])),_:3},8,["tree","onCardClick"])],4)],36)}const i={class:"vue-family-tree__branch"},d={class:"vue-family-tree__row"},l={class:"vue-family-tree__content"},c={key:0,class:"vue-family-tree__person"},s={class:"vue-family-tree__card"},u={key:1,class:"vue-family-tree__person"},f={class:"vue-family-tree__card"};function p(e,t,a,n,o,p){const v=(0,r.resolveComponent)("Card"),h=(0,r.resolveComponent)("VueFamilyTreeBranch");return(0,r.openBlock)(),(0,r.createElementBlock)("div",i,[(0,r.createElementVNode)("div",d,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)(a.tree,((a,n)=>((0,r.openBlock)(),(0,r.createElementBlock)("div",{key:n,class:(0,r.normalizeClass)(["vue-family-tree__col",{"vue-family-tree__col_couple":a.firstPerson&&a.secondPerson}])},[(0,r.createElementVNode)("div",l,[(0,r.createElementVNode)("div",{class:(0,r.normalizeClass)({"vue-family-tree__couple":a.firstPerson&&a.secondPerson,"vue-family-tree__couple_children":a.children&&a.children.length})},[a.firstPerson?((0,r.openBlock)(),(0,r.createElementBlock)("div",c,[(0,r.createElementVNode)("div",s,[(0,r.renderSlot)(e.$slots,"card",{item:a.firstPerson},(()=>[(0,r.createVNode)(v,{image:a.firstPerson.image,name:a.firstPerson.name,source:a.firstPerson,onClick:t[0]||(t[0]=t=>e.$emit("card-click",t))},null,8,["image","name","source"])]),!0)])])):(0,r.createCommentVNode)("",!0),a.secondPerson?((0,r.openBlock)(),(0,r.createElementBlock)("div",u,[(0,r.createElementVNode)("div",f,[(0,r.renderSlot)(e.$slots,"card",{item:a.secondPerson},(()=>[(0,r.createVNode)(v,{image:a.secondPerson.image,name:a.secondPerson.name,source:a.secondPerson,onClick:t[1]||(t[1]=t=>e.$emit("card-click",t))},null,8,["image","name","source"])]),!0)])])):(0,r.createCommentVNode)("",!0)],2)]),a.children?((0,r.openBlock)(),(0,r.createBlock)(h,{key:0,tree:a.children,onCardClick:t[2]||(t[2]=t=>e.$emit("card-click",t))},{card:(0,r.withCtx)((({item:t})=>[(0,r.renderSlot)(e.$slots,"card",{item:t},void 0,!0)])),_:2},1032,["tree"])):(0,r.createCommentVNode)("",!0)],2)))),128))])])}const v={class:"vue-family-card"},h={class:"vue-family-card__name"};function m(e,t,a,n,o,i){return(0,r.openBlock)(),(0,r.createElementBlock)("div",v,[(0,r.createElementVNode)("a",{href:"#",onClick:t[0]||(t[0]=(0,r.withModifiers)(((...e)=>i.click&&i.click(...e)),["prevent"])),class:"vue-family-card__image",style:(0,r.normalizeStyle)({backgroundImage:a.image?`url(${a.image})`:null})},null,4),(0,r.createElementVNode)("div",h,[(0,r.createElementVNode)("a",{href:"#",onClick:t[1]||(t[1]=(0,r.withModifiers)(((...e)=>i.click&&i.click(...e)),["prevent"]))},(0,r.toDisplayString)(a.name),1)])])}var g={name:"FamilyCard",props:{name:String,image:String,source:Object},methods:{click(){this.$emit("click",this.source)}}},_=(a(63),a(262));const y=(0,_.A)(g,[["render",m],["__scopeId","data-v-3ef19fa8"]]);var b=y,x={name:"VueFamilyTreeBranch",components:{Card:b},props:{tree:{type:Array,default(){return[]}}}};a(20);const C=(0,_.A)(x,[["render",p],["__scopeId","data-v-7ea6d777"]]);var k=C,w={name:"VueFamilyTree",components:{VueFamilyTreeBranch:k},props:{tree:{type:Array,default(){return[]}},enableDrag:{type:Boolean,default:!0},wrapperStyles:{type:Object,default:e=>e.enableDrag?{position:"relative",width:"100%",height:"600px"}:null},dragCursor:{type:String,default:"grabbing"},mouseChangeDiff:{type:Number,default:2}},data(){return{dragAndDrop:{dragStarted:!1,dragStartX:0,dragStartY:0,diffX:0,diffY:0,mouseCursor:"default"},preventMouseEvents:!1,position:{x:0,y:0}}},methods:{mouseover(e){this.preventMouseEvents||this.$emit("mouseover",e)},mouseleave(e){this.preventMouseEvents||this.$emit("mouseleave",e)},cardClick(e){this.preventMouseEvents||this.$emit("card-click",e)},dragstart(e){if(this.enableDrag){if(this.mobilePreventScroll){const e=this.mobilePreventScroll.breakpoint||1024,t=this.mobilePreventScroll.selector||"body",r=window.matchMedia(`(max-width: ${e}px)`);if(r.matches){const e=document.querySelector(t);this.previousMobileOverflowType=e.style.overflow,e.style.overflow="hidden"}}this.dragAndDrop.dragStartX=e.pageX||e.touches[0].pageX,this.dragAndDrop.dragStartY=e.pageY||e.touches[0].pageY,this.dragAndDrop.dragStarted=!0}this.$emit("dragstart",e)},drag(e){this.enableDrag&&this.dragAndDrop.dragStarted&&(this.dragAndDrop.diffX=(e.pageX||e.touches[0].pageX)-this.dragAndDrop.dragStartX,this.dragAndDrop.diffY=(e.pageY||e.touches[0].pageY)-this.dragAndDrop.dragStartY,(this.dragAndDrop.diffX>this.mouseChangeDiff||this.dragAndDrop.diffX<-this.mouseChangeDiff||this.dragAndDrop.diffY>this.mouseChangeDiff||this.dragAndDrop.diffX<-this.mouseChangeDiff)&&(this.preventMouseEvents=!0,this.dragAndDrop.mouseCursor=this.dragCursor),this.position.x+=this.dragAndDrop.diffX,this.position.y+=this.dragAndDrop.diffY,this.dragAndDrop.dragStartX=e.pageX||e.touches[0].pageX,this.dragAndDrop.dragStartY=e.pageY||e.touches[0].pageY,this.$emit("drag",e))},dragend(){if(this.enableDrag){if(this.dragAndDrop.dragStarted=!1,this.dragAndDrop.mouseCursor="default",this.mobilePreventScroll){const e=this.mobilePreventScroll.selector||"body",t=document.querySelector(e);t.style.overflow=this.previousMobileOverflowType}setTimeout((()=>{this.preventMouseEvents=!1}),150)}this.$emit("dragend",event)},getTreeClientRect(){return this.$refs.vueFamilyTree.getBoundingClientRect()},getWrapperClientRect(){return this.$refs.wrapper.getBoundingClientRect()},centerTree(){return new Promise(((e,t)=>{try{const t=this.getWrapperClientRect().width/2,r=this.getWrapperClientRect().height/2,a=this.getTreeClientRect().width/2,n=this.getTreeClientRect().height/2;this.position.x=t-a,this.position.y=r-n,this.$emit("center-map"),e(!0)}catch(r){t(r)}}))}}};const S=(0,_.A)(w,[["render",o]]);var D=S,A=D,M=A}(),n}()}));
//# sourceMappingURL=vue-family-tree.umd.min.js.map